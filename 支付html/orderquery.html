<!doctype html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>接口规则</title>
    <link rel="stylesheet" type="text/css" href="css/normalize.css"/>
    <link rel="stylesheet" type="text/css" href="css/default.css">
    <link href='http://fonts.googleapis.com/css?family=Roboto:300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>
<style type="text/css">
    .tg {
        border-collapse: collapse;
        border-spacing: 0;
        border-color: #ccc;
    }

    .tg td {
        font-family: Arial, sans-serif;
        font-size: 14px;
        padding: 10px 5px;
        border-style: solid;
        border-width: 1px;
        overflow: hidden;
        word-break: normal;
        border-color: #ccc;
        color: #333;
        background-color: #fff;
    }

    .tg th {
        font-family: Arial, sans-serif;
        font-size: 14px;
        font-weight: normal;
        padding: 10px 5px;
        border-style: solid;
        border-width: 1px;
        overflow: hidden;
        word-break: normal;
        border-color: #ccc;
        color: #333;
        background-color: #f0f0f0;
    }

    .tg .tg-hx12 {
        font-weight: bold;
        background-color: #efefef;
        border-color: #c0c0c0;
        text-align: left;
        vertical-align: top
    }

    .tg .tg-wo29 {
        border-color: #c0c0c0;
        text-align: left;
        vertical-align: top
    }

    .tg .tg-u4qj {
        background-color: #efefef;
        border-color: #c0c0c0;
        text-align: left;
        vertical-align: top
    }
</style>
<nav>
    <ul>
        <a href="./index.html">
            <li>Iotpay接入说明</li>
        </a>
        <a href="./codeid.html">
            <li>编码表</li>
        </a>
        <a href="./interfacerule.html">
            <li>接口规则</li>
        </a>
        <li>查询订单</li>
        <a href="./errorcode.html">
            <li>全局错误码</li>
        </a>
        <li>下载</li>
    </ul>
</nav>
<div class="openNav">
    <div class="icon"></div>
</div>

<div class="wrapper">
    <header class="htmleaf-header">
        <h1>查询订单<span>Order Inquiry</span></h1>
        <div class="htmleaf-links">
            <a class="htmleaf-icon icon-htmleaf-home-outline" href="http://www.iotpay.ca" title="Iotpay"
               target="_blank"><span> Iotpay.ca</span></a>
            <a class="htmleaf-icon icon-htmleaf-arrow-forward-outline" href="./index.html" title="Iotpay接入说明"
               target="_blank"><span> Iotpay接入说明</span></a>
        </div>
    </header>
    <section>
        <div class="doc-title-box">
            <h2 style="font-weight: bold;">查询订单</h2>
        </div>
        <p>简要描述：
        <li>查询订单接口</li>
        </p>

        <p>请求URL：
        <li>正式地址:</li>
        <pre>https://pay.4jicao.com/api/pay/query_order</pre>
        </p>


        <p>请求方式：
        <li>POST</li>
        </p>

        <p>请求参数：</p>
        <p>
        <table class="tg">
            <tr>
                <th class="tg-hx12">字段名</th>
                <th class="tg-hx12">变量名</th>
                <th class="tg-hx12">必填</th>
                <th class="tg-hx12">类型</th>
                <th class="tg-hx12">示例值</th>
                <th class="tg-hx12">描述</th>
            </tr>
            <tr>
                <td class="tg-wo29">商户ID</td>
                <td class="tg-wo29">mchId</td>
                <td class="tg-wo29">是</td>
                <td class="tg-wo29">String(30)</td>
                <td class="tg-wo29">1000000010</td>
                <td class="tg-wo29">支付中心分配的商户号</td>
            </tr>
            <tr>
                <td class="tg-u4qj">支付订单号</td>
                <td class="tg-u4qj">payOrderId</td>
                <td class="tg-u4qj">是</td>
                <td class="tg-u4qj">String(30)</td>
                <td class="tg-u4qj">P20160427210604000490</td>
                <td class="tg-u4qj">支付中心生成的订单号，与mchOrderNo二者传一即可</td>
            </tr>
            <tr>
                <td class="tg-wo29">商户订单号</td>
                <td class="tg-wo29">mchOrderNo</td>
                <td class="tg-wo29">是</td>
                <td class="tg-wo29">String(30)</td>
                <td class="tg-wo29">20160427210604000490</td>
                <td class="tg-wo29">商户生成的订单号，与payOrderId二者传一即可</td>
            </tr>
            <tr>
                <td class="tg-u4qj">是否执行回调</td>
                <td class="tg-u4qj">executeNotify</td>
                <td class="tg-u4qj">否</td>
                <td class="tg-u4qj">Boolean</td>
                <td class="tg-u4qj">true</td>
                <td class="tg-u4qj">是否执行回调，如果为true，则支付中心会再次向商户发起一次回调，如果为false则部发起</td>
            </tr>
            <tr>
                <td class="tg-wo29">签名</td>
                <td class="tg-wo29">sign</td>
                <td class="tg-wo29">是</td>
                <td class="tg-wo29">String(32)</td>
                <td class="tg-wo29">C380BEC2BFD727A4B6845133519F3AD6</td>
                <td class="tg-wo29">签名值，详见签名算法</td>
            </tr>
        </table>
        </p>
        <p>返回结果</p>
        <p>
        <table class="tg">
            <tr>
                <th class="tg-hx12">字段名</th>
                <th class="tg-hx12">变量名</th>
                <th class="tg-hx12">必填</th>
                <th class="tg-hx12">类型</th>
                <th class="tg-hx12">示例值</th>
                <th class="tg-hx12">描述</th>
            </tr>
            <tr>
                <td class="tg-wo29">返回状态码</td>
                <td class="tg-wo29">retCode</td>
                <td class="tg-wo29">是</td>
                <td class="tg-wo29">String(16)</td>
                <td class="tg-wo29">SUCCESS</td>
                <td class="tg-wo29">SUCCESS/FAIL此字段是通信标识，非交易标识，交易是否成功需要查看resCode来判断</td>
            </tr>
            <tr>
                <td class="tg-u4qj">返回信息</td>
                <td class="tg-u4qj">retMsg</td>
                <td class="tg-u4qj">否</td>
                <td class="tg-u4qj">String(128)</td>
                <td class="tg-u4qj">签名失败</td>
                <td class="tg-u4qj">返回信息，如非空，为错误原因 签名失败 参数格式校验错误</td>
            </tr>
        </table>
        </p>
        <p>以下字段在retCode为SUCCESS的时候有返回</p>
        <p>
        <table class="tg">
            <tr>
                <th class="tg-hx12">段名</th>
                <th class="tg-hx12">变量名</th>
                <th class="tg-hx12">必填</th>
                <th class="tg-hx12">类型</th>
                <th class="tg-hx12">示例值</th>
                <th class="tg-hx12">描述</th>
            </tr>
            <tr>
                <td class="tg-wo29">业务结果</td>
                <td class="tg-wo29">resCode</td>
                <td class="tg-wo29">是</td>
                <td class="tg-wo29">String(16)</td>
                <td class="tg-wo29">SUCCESS</td>
                <td class="tg-wo29">SUCCESS/FAIL</td>
            </tr>
            <tr>
                <td class="tg-u4qj">错误代码</td>
                <td class="tg-u4qj">errCode</td>
                <td class="tg-u4qj">否</td>
                <td class="tg-u4qj">String(32)</td>
                <td class="tg-u4qj">SYSTEMERROR</td>
                <td class="tg-u4qj">错误码</td>
            </tr>
            <tr>
                <td class="tg-wo29">错误代码描述</td>
                <td class="tg-wo29">errCodeDes</td>
                <td class="tg-wo29">否</td>
                <td class="tg-wo29">String(128)</td>
                <td class="tg-wo29">系统错误</td>
                <td class="tg-wo29">结果信息描述</td>
            </tr>
        </table>
        </p>
        <p>以下字段在retCode和resCode都为SUCCESS的时候有返回</p>
        <p>
        <table class="tg">
            <tr>
                <th class="tg-hx12">字段名</th>
                <th class="tg-hx12">变量名</th>
                <th class="tg-hx12">必填</th>
                <th class="tg-hx12">类型</th>
                <th class="tg-hx12">示例值</th>
                <th class="tg-hx12">描述</th>
            </tr>
            <tr>
                <td class="tg-wo29">商户ID</td>
                <td class="tg-wo29">mchId</td>
                <td class="tg-wo29">是</td>
                <td class="tg-wo29">String(30)</td>
                <td class="tg-wo29">20001222</td>
                <td class="tg-wo29">支付中心分配的商户号</td>
            </tr>
            <tr>
                <td class="tg-u4qj">商户订单号</td>
                <td class="tg-u4qj">mchOrderNo</td>
                <td class="tg-u4qj">是</td>
                <td class="tg-u4qj">String(30) 20160427210604000490</td>
                <td class="tg-u4qj">商户生成的订单号</td>
                <td class="tg-u4qj"></td>
            </tr>
            <tr>
                <td class="tg-wo29">渠道ID</td>
                <td class="tg-wo29">channelId</td>
                <td class="tg-wo29">是</td>
                <td class="tg-wo29">String(24)</td>
                <td class="tg-wo29">WX_JSAPI</td>
                <td class="tg-wo29">见支付渠道参数</td>
            </tr>
            <tr>
                <td class="tg-u4qj">币种</td>
                <td class="tg-u4qj">currency</td>
                <td class="tg-u4qj">是</td>
                <td class="tg-u4qj">String(3)</td>
                <td class="tg-u4qj">CAD</td>
                <td class="tg-u4qj">三位货币代码,加币:CAD</td>
            </tr>
            <tr>
                <td class="tg-wo29">支付金额</td>
                <td class="tg-wo29">amount</td>
                <td class="tg-wo29">是</td>
                <td class="tg-wo29">int</td>
                <td class="tg-wo29">100</td>
                <td class="tg-wo29">支付金额,单位分</td>
            </tr>
            <tr>
                <td class="tg-u4qj">客户端IP</td>
                <td class="tg-u4qj">clientIp</td>
                <td class="tg-u4qj">否</td>
                <td class="tg-u4qj">String(32)</td>
                <td class="tg-u4qj">210.73.10.148</td>
                <td class="tg-u4qj">客户端IP地址</td>
            </tr>
            <tr>
                <td class="tg-wo29">设备</td>
                <td class="tg-wo29">device</td>
                <td class="tg-wo29">否</td>
                <td class="tg-wo29">String(64)</td>
                <td class="tg-wo29">WEB</td>
                <td class="tg-wo29">终端设备号(门店号或收银设备ID)，注意：PC网页或公众号内支付请传”WEB</td>
            </tr>
            <tr>
                <td class="tg-u4qj">支付结果回调URL</td>
                <td class="tg-u4qj">notifyUrl</td>
                <td class="tg-u4qj">是</td>
                <td class="tg-u4qj">String(200)</td>
                <td class="tg-u4qj">http://xxx.com/notify.htm</td>
                <td class="tg-u4qj">支付结果回调URL</td>
            </tr>
            <tr>
                <td class="tg-wo29">商品主题</td>
                <td class="tg-wo29">subject</td>
                <td class="tg-wo29">是</td>
                <td class="tg-wo29">String(64)</td>
                <td class="tg-wo29">测试商品</td>
                <td class="tg-wo29">商品主题</td>
            </tr>
            <tr>
                <td class="tg-u4qj">商品描述信息</td>
                <td class="tg-u4qj">body</td>
                <td class="tg-u4qj">是</td>
                <td class="tg-u4qj">String(256)</td>
                <td class="tg-u4qj">测试商品描述</td>
                <td class="tg-u4qj">商品描述信息</td>
            </tr>
            <tr>
                <td class="tg-wo29">扩展参数1</td>
                <td class="tg-wo29">param1</td>
                <td class="tg-wo29">否</td>
                <td class="tg-wo29">String(64)</td>
                <td class="tg-wo29"></td>
                <td class="tg-wo29">支付中心回调时会原样返回</td>
            </tr>
            <tr>
                <td class="tg-u4qj">扩展参数2</td>
                <td class="tg-u4qj">param2</td>
                <td class="tg-u4qj">否</td>
                <td class="tg-u4qj">String(64)</td>
                <td class="tg-u4qj"></td>
                <td class="tg-u4qj">支付中心回调时会原样返回</td>
            </tr>
            <tr>
                <td class="tg-wo29">附加参数</td>
                <td class="tg-wo29">extra</td>
                <td class="tg-wo29">是</td>
                <td class="tg-wo29">String(512)</td>
                <td class="tg-wo29">{“openId”:”o2RvowBf7sOVJf8kJksUEMceaDqo”}</td>
                <td class="tg-wo29">特定渠道发起时额外参数,见下面说明</td>
            </tr>
            <tr>
                <td class="tg-u4qj">支付成功时间</td>
                <td class="tg-u4qj">paySuccTime</td>
                <td class="tg-u4qj">否</td>
                <td class="tg-u4qj">Long</td>
                <td class="tg-u4qj">1505049094262</td>
                <td class="tg-u4qj">支付成功时间</td>
            </tr>
            <tr>
                <td class="tg-wo29">渠道订单号</td>
                <td class="tg-wo29">channelOrderNo</td>
                <td class="tg-wo29">否</td>
                <td class="tg-wo29">String</td>
                <td class="tg-wo29">wx20170910211043fb206e92260071822007</td>
                <td class="tg-wo29">对应的第三方支付订单号</td>
            </tr>
        </table>
        </p>
        <p style="color:red">备注：</p>
        <li>更多返回错误代码请看首页的错误代码描述</li>
    </section>
</div>

<script src="js/jquery-2.1.1.min.js" type="text/javascript"></script>
<script>
    $('.openNav').click(function () {
        $('body').toggleClass('navOpen');
        $('nav').toggleClass('open');
        $('.wrapper').toggleClass('open');
        $(this).toggleClass('open');
    });
</script>
</body>
</html>