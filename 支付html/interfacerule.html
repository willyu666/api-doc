<!doctype html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>接口规则</title>
	<link rel="stylesheet" type="text/css" href="css/normalize.css" />
	<link rel="stylesheet" type="text/css" href="css/default.css">
	<link href='http://fonts.googleapis.com/css?family=Roboto:300' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" href="css/styles.css">
</head>
<body>
	<nav>
	  <ul>
	  <a href="./index.html"> <li>Iotpay接入说明</li></a>	  	    
	    <a href="./codeid.html"><li>编码表</li></a>
		<a href="./interfacerule.html"> <li>接口规则</li></a>
		<li>API列表</li>
		<a href="./errorcode.html"><li>全局错误码</li></a>
		<li>下载</li>
	  </ul>
	</nav>
	<div class="openNav">
	  <div class="icon"></div>
	</div>

	<div class="wrapper">
		<header class="htmleaf-header">
			<h1>接口规则<span>Iotpay interface rules</span></h1>
			<div class="htmleaf-links">
				<a class="htmleaf-icon icon-htmleaf-home-outline" href="http://www.iotpay.ca" title="Iotpay" target="_blank"><span> Iotpay.ca</span></a>
				<a class="htmleaf-icon icon-htmleaf-arrow-forward-outline" href="./index.html" title="Iotpay接入说明" target="_blank"><span> Iotpay接入说明</span></a>
			</div>
		</header>
	  <section>
		<div class="doc-title-box">
			<h2 style="font-weight: bold;">协议规则</h2>
		</div>
	  
	    <p>传输方式：采用HTTP传输</p>
		<p>提交方式：采用POST/GET方式提交</p>
		<p>字符编码：UTF-8</p>
		<p>签名算法：MD5</p>
		<div class="doc-title-box">
			<h2 style="font-weight: bold;">参数规范</h2>
		</div>
	    <p>交易金额：默认为加币交易，单位为分，参数值不能带小数。</p>
		<div class="doc-title-box">
			<h2 style="font-weight: bold;">签名算法</h2>
		</div>
	    <p>第一步：设所有发送或者接收到的数据为集合M，将集合M内非空参数值的参数按照参数名ASCII码从小到大排序（字典序），使用URL键值对的格式（即key1=value1&key2=value2…）拼接成字符串stringA。</p>
		<p style="color:red">特别注意以下重要规则：</p>
		<p>◆ 参数名ASCII码从小到大排序（字典序）；</p>
		<p>◆ 如果参数的值为空不参与签名；</p>
		<p>◆ 参数名区分大小写；</p>
		<p>◆ 验证调用返回或支付中心主动通知签名时，传送的sign参数不参与签名，将生成的签名与该sign值作校验。</p>
		<p>◆ 支付中心接口可能增加字段，验证签名时必须支持增加的扩展字段；</p>
		<p>第二步：在stringA最后拼接上key得到stringSignTemp字符串，并对stringSignTemp进行MD5运算，再将得到的字符串所有字符转换为大写，得到sign值signValue。
		支付中心会分配业务系统key，用于业务系统请求支付中心和支付中心响应业务系统和通知业务系统对应的key</p>
		 
	</section>
	</div>
	
	<script src="js/jquery-2.1.1.min.js" type="text/javascript"></script>
	<script>
	$('.openNav').click(function () {
	    $('body').toggleClass('navOpen');
	    $('nav').toggleClass('open');
	    $('.wrapper').toggleClass('open');
	    $(this).toggleClass('open');
	});
	</script>
</body>
</html>